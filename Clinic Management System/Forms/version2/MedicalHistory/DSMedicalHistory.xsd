<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="DSMedicalHistory" targetNamespace="http://tempuri.org/DSMedicalHistory.xsd" xmlns:mstns="http://tempuri.org/DSMedicalHistory.xsd" xmlns="http://tempuri.org/DSMedicalHistory.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="1" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="MySettings" AppSettingsPropertyName="cms_databaseConnectionString1" IsAppSettingsProperty="true" Modifier="Assembly" Name="cms_databaseConnectionString1 (MySettings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.Clinic_Management_System.My.MySettings.GlobalReference.Default.cms_databaseConnectionString1" Provider="System.Data.SqlClient" />
          <Connection AppSettingsObjectName="MySettings" AppSettingsPropertyName="cms_databaseConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="cms_databaseConnectionString (MySettings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.Clinic_Management_System.My.MySettings.GlobalReference.Default.cms_databaseConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="tblhistoryTableAdapter" GeneratorDataComponentClassName="tblhistoryTableAdapter" Name="tblhistory" UserDataComponentName="tblhistoryTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="cms_database.dbo.tblhistory" DbObjectType="Table" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetData" UserSourceName="Fill">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>DELETE FROM [dbo].[tblhistory] WHERE (([Historyid] = @Original_Historyid) AND ([history] = @Original_history))</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@Original_Historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="Historyid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@Original_history" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="history" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
                <InsertCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>INSERT INTO [dbo].[tblhistory] ([history]) VALUES (@history);
SELECT Historyid, history FROM tblhistory WHERE (Historyid = SCOPE_IDENTITY())</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@history" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="history" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </InsertCommand>
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>SELECT Historyid, history FROM dbo.tblhistory</CommandText>
                    <Parameters />
                  </DbCommand>
                </SelectCommand>
                <UpdateCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>UPDATE [dbo].[tblhistory] SET [history] = @history WHERE (([Historyid] = @Original_Historyid) AND ([history] = @Original_history));
SELECT Historyid, history FROM tblhistory WHERE (Historyid = @Historyid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@history" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="history" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@Original_Historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="Historyid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@Original_history" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="history" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="Historyid" ColumnName="Historyid" DataSourceName="" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@Historyid" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="Historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </UpdateCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="Historyid" DataSetColumn="Historyid" />
              <Mapping SourceColumn="history" DataSetColumn="history" />
            </Mappings>
            <Sources>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="DeleteMedicalHistory" Modifier="Public" Name="DeleteMedicalHistory" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy" UserSourceName="DeleteMedicalHistory">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>DELETE FROM [dbo].[tblhistory] WHERE (([Historyid] = @Original_Historyid))</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_Historyid" ColumnName="historyid" DataSourceName="cms_database.dbo.tblhistory" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@Original_Historyid" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="InsertMedicalHistory" Modifier="Public" Name="InsertMedicalHistory" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy1" UserSourceName="InsertMedicalHistory">
                <InsertCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>INSERT INTO [dbo].[tblhistory] ([history]) VALUES (@history);
</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="history" ColumnName="history" DataSourceName="cms_database.dbo.tblhistory" DataTypeServer="varchar(500)" DbType="AnsiString" Direction="Input" ParameterName="@history" Precision="0" ProviderType="VarChar" Scale="0" Size="500" SourceColumn="history" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </InsertCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="UpdateMedicalHistorh" Modifier="Public" Name="UpdateMedicalHistorh" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy2" UserSourceName="UpdateMedicalHistorh">
                <UpdateCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>UPDATE [dbo].[tblhistory] SET [history] = @history WHERE (([Historyid] = @Original_Historyid) AND ([history] = @Original_history));
</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="history" ColumnName="history" DataSourceName="cms_database.dbo.tblhistory" DataTypeServer="varchar(500)" DbType="AnsiString" Direction="Input" ParameterName="@history" Precision="0" ProviderType="VarChar" Scale="0" Size="500" SourceColumn="history" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_Historyid" ColumnName="historyid" DataSourceName="cms_database.dbo.tblhistory" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@Original_Historyid" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_history" ColumnName="history" DataSourceName="cms_database.dbo.tblhistory" DataTypeServer="varchar(500)" DbType="AnsiString" Direction="Input" ParameterName="@Original_history" Precision="0" ProviderType="VarChar" Scale="0" Size="500" SourceColumn="history" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </UpdateCommand>
              </DbSource>
            </Sources>
          </TableAdapter>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="V_MEDICAL_HISTORYTableAdapter" GeneratorDataComponentClassName="V_MEDICAL_HISTORYTableAdapter" Name="V_MEDICAL_HISTORY" UserDataComponentName="V_MEDICAL_HISTORYTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="cms_database.dbo.V_MEDICAL_HISTORY" DbObjectType="View" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>SELECT ppatientid, historydetailid, historyid, history, note FROM dbo.V_MEDICAL_HISTORY</CommandText>
                    <Parameters />
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="ppatientid" DataSetColumn="ppatientid" />
              <Mapping SourceColumn="historydetailid" DataSetColumn="historydetailid" />
              <Mapping SourceColumn="historyid" DataSetColumn="historyid" />
              <Mapping SourceColumn="history" DataSetColumn="history" />
              <Mapping SourceColumn="note" DataSetColumn="note" />
            </Mappings>
            <Sources>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="cms_database.dbo.V_MEDICAL_HISTORY" DbObjectType="View" FillMethodModifier="Public" FillMethodName="FillByPatientID" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="GetDataByPatientID" GeneratorSourceName="FillByPatientID" GetMethodModifier="Public" GetMethodName="GetDataByPatientID" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataByPatientID" UserSourceName="FillByPatientID">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT ppatientid, historydetailid, historyid, history, note FROM dbo.V_MEDICAL_HISTORY
WHERE
 ppatientid=@ppatientid</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="ppatientid" ColumnName="ppatientid" DataSourceName="cms_database.dbo.V_MEDICAL_HISTORY" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@ppatientid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="ppatientid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </Sources>
          </TableAdapter>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="tblhistorydetailTableAdapter" GeneratorDataComponentClassName="tblhistorydetailTableAdapter" Name="tblhistorydetail" UserDataComponentName="tblhistorydetailTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="cms_database.dbo.tblhistorydetail" DbObjectType="Table" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetData" UserSourceName="Fill">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>DELETE FROM [dbo].[tblhistorydetail] WHERE (([historydetailid] = @Original_historydetailid) AND ([historyid] = @Original_historyid) AND ([prescriptionid] = @Original_prescriptionid) AND ([note] = @Original_note))</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_historydetailid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="historydetailid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@Original_historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@Original_note" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
                <InsertCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>INSERT INTO [dbo].[tblhistorydetail] ([historyid], [prescriptionid], [note]) VALUES (@historyid, @prescriptionid, @note);
SELECT historydetailid, historyid, prescriptionid, note FROM tblhistorydetail WHERE (historydetailid = SCOPE_IDENTITY())</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </InsertCommand>
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>SELECT historydetailid, historyid, prescriptionid, note FROM dbo.tblhistorydetail</CommandText>
                    <Parameters />
                  </DbCommand>
                </SelectCommand>
                <UpdateCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>UPDATE [dbo].[tblhistorydetail] SET [historyid] = @historyid, [prescriptionid] = @prescriptionid, [note] = @note WHERE (([historydetailid] = @Original_historydetailid) AND ([historyid] = @Original_historyid) AND ([prescriptionid] = @Original_prescriptionid) AND ([note] = @Original_note));
SELECT historydetailid, historyid, prescriptionid, note FROM tblhistorydetail WHERE (historydetailid = @historydetailid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_historydetailid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="historydetailid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@Original_historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@Original_note" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="historydetailid" ColumnName="historydetailid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@historydetailid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="historydetailid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </UpdateCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="historydetailid" DataSetColumn="historydetailid" />
              <Mapping SourceColumn="historyid" DataSetColumn="historyid" />
              <Mapping SourceColumn="prescriptionid" DataSetColumn="prescriptionid" />
              <Mapping SourceColumn="note" DataSetColumn="note" />
            </Mappings>
            <Sources>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="DeleteHistory" Modifier="Public" Name="DeleteHistory" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy" UserSourceName="DeleteHistory">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>DELETE FROM [dbo].[tblhistorydetail] WHERE ([historydetailid] = @Original_historydetailid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_historydetailid" ColumnName="historydetailid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@Original_historydetailid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="historydetailid" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="DeleteHistoryByPrescriptionID" Modifier="Public" Name="DeleteHistoryByPrescriptionID" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy1" UserSourceName="DeleteHistoryByPrescriptionID">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>DELETE FROM [dbo].[tblhistorydetail] WHERE ([prescriptionid] = @Original_prescriptionid) </CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_prescriptionid" ColumnName="prescriptionid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@Original_prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="cms_database.dbo.tblhistorydetail" DbObjectType="Table" FillMethodModifier="Public" FillMethodName="FillByHistory" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="SelectHistory" GeneratorSourceName="FillByHistory" GetMethodModifier="Public" GetMethodName="SelectHistory" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="SelectHistory" UserSourceName="FillByHistory">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>SELECT historydetailid, historyid, note, prescriptionid FROM tblhistorydetail WHERE (historydetailid = @historydetailid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="historydetailid" ColumnName="historydetailid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@historydetailid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="historydetailid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="FillByPatientID" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="SelectHistoryByPatientID" GeneratorSourceName="FillByPatientID" GetMethodModifier="Public" GetMethodName="SelectHistoryByPatientID" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="SelectHistoryByPatientID" UserSourceName="FillByPatientID">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>SELECT D.historydetailid, D.historyid,H.history, D.prescriptionid, D.note FROM (dbo.tblhistorydetail AS D INNER JOIN tblhistory AS H ON H.Historyid=D.historyid) INNER JOIN tblprescription AS P ON P.prescriptionid=D.prescriptionid WHERE P.patientid=@patientid ORDER BY P.prescriptionid DESC</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="patientid" ColumnName="patientid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@patientid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="FillByPrescriptionID" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="SelectHistoryByPrescriptionID" GeneratorSourceName="FillByPrescriptionID" GetMethodModifier="Public" GetMethodName="SelectHistoryByPrescriptionID" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="SelectHistoryByPrescriptionID" UserSourceName="FillByPrescriptionID">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT P.historydetailid, P.historyid, H.history, P.prescriptionid, P.note FROM dbo.tblhistorydetail AS P  INNER JOIN tblhistory AS H ON P.historyid=H.Historyid  WHERE P.prescriptionid=@prescriptionid</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="prescriptionid" ColumnName="prescriptionid" DataSourceName="cms_database.dbo.tblhistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="InsertHistory" Modifier="Public" Name="InsertHistory" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy2" UserSourceName="InsertHistory">
                <InsertCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>INSERT INTO [dbo].[tblhistorydetail] ([historyid], [prescriptionid], [note]) VALUES (@historyid, @prescriptionid, @note);</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="historyid" ColumnName="historyid" DataSourceName="" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="prescriptionid" ColumnName="prescriptionid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="note" ColumnName="note" DataSourceName="" DataTypeServer="varchar(500)" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="500" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </InsertCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="UpdateHistory" Modifier="Public" Name="UpdateHistory" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy3" UserSourceName="UpdateHistory">
                <UpdateCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>UPDATE [dbo].[tblhistorydetail] SET [historyid] = @historyid, [prescriptionid] = @prescriptionid, [note] = @note WHERE ([historydetailid] = @Original_historydetailid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="historyid" ColumnName="historyid" DataSourceName="" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="prescriptionid" ColumnName="prescriptionid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="note" ColumnName="note" DataSourceName="" DataTypeServer="varchar(500)" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="500" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_historydetailid" ColumnName="historydetailid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@Original_historydetailid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="historydetailid" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </UpdateCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="UpdateHistoryByPrescriptionID" Modifier="Public" Name="UpdateHistoryByPrescriptionID" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy4" UserSourceName="UpdateHistoryByPrescriptionID">
                <UpdateCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>UPDATE [dbo].[tblhistorydetail] SET [historyid] = @historyid, [prescriptionid] = @prescriptionid, [note] = @note WHERE ([prescriptionid] = @Original_prescriptionid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="historyid" ColumnName="historyid" DataSourceName="cms_database.dbo.tblhistorydetail" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="prescriptionid" ColumnName="prescriptionid" DataSourceName="cms_database.dbo.tblhistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="note" ColumnName="note" DataSourceName="cms_database.dbo.tblhistorydetail" DataTypeServer="varchar(500)" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="500" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_prescriptionid" ColumnName="prescriptionid" DataSourceName="cms_database.dbo.tblhistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@Original_prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </UpdateCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="UpdateMedicalNote" Modifier="Public" Name="UpdateMedicalNote" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy5" UserSourceName="UpdateMedicalNote">
                <UpdateCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>UPDATE       tblhistorydetail
SET                note = @note
WHERE        (prescriptionid = @Original_prescriptionid); 
</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="note" ColumnName="note" DataSourceName="cms_database.dbo.tblhistorydetail" DataTypeServer="varchar(500)" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="500" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_prescriptionid" ColumnName="prescriptionid" DataSourceName="cms_database.dbo.tblhistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@Original_prescriptionid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="prescriptionid" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </UpdateCommand>
              </DbSource>
            </Sources>
          </TableAdapter>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="tblprehistorydetailTableAdapter" GeneratorDataComponentClassName="tblprehistorydetailTableAdapter" Name="tblprehistorydetail" UserDataComponentName="tblprehistorydetailTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="cms_database.dbo.tblprehistorydetail" DbObjectType="Table" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetData" UserSourceName="Fill">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>DELETE FROM [dbo].[tblprehistorydetail] WHERE (([preid] = @Original_preid) AND ((@IsNull_patientid = 1 AND [patientid] IS NULL) OR ([patientid] = @Original_patientid)) AND ((@IsNull_historyid = 1 AND [historyid] IS NULL) OR ([historyid] = @Original_historyid)) AND ((@IsNull_note = 1 AND [note] IS NULL) OR ([note] = @Original_note)))</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_preid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="preid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@IsNull_patientid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="patientid" SourceColumnNullMapping="true" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_patientid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@IsNull_historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="true" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@Original_historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@IsNull_note" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="true" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@Original_note" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
                <InsertCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>INSERT INTO [dbo].[tblprehistorydetail] ([patientid], [historyid], [note]) VALUES (@patientid, @historyid, @note);
SELECT preid, patientid, historyid, note FROM tblprehistorydetail WHERE (preid = SCOPE_IDENTITY())</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@patientid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </InsertCommand>
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>SELECT preid, patientid, historyid, note FROM dbo.tblprehistorydetail</CommandText>
                    <Parameters />
                  </DbCommand>
                </SelectCommand>
                <UpdateCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>UPDATE [dbo].[tblprehistorydetail] SET [patientid] = @patientid, [historyid] = @historyid, [note] = @note WHERE (([preid] = @Original_preid) AND ((@IsNull_patientid = 1 AND [patientid] IS NULL) OR ([patientid] = @Original_patientid)) AND ((@IsNull_historyid = 1 AND [historyid] IS NULL) OR ([historyid] = @Original_historyid)) AND ((@IsNull_note = 1 AND [note] IS NULL) OR ([note] = @Original_note)));
SELECT preid, patientid, historyid, note FROM tblprehistorydetail WHERE (preid = @preid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@patientid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_preid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="preid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@IsNull_patientid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="patientid" SourceColumnNullMapping="true" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_patientid" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@IsNull_historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="true" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@Original_historyid" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="Int32" Direction="Input" ParameterName="@IsNull_note" Precision="0" ProviderType="Int" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="true" SourceVersion="Original" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@Original_note" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Original" />
                      <Parameter AllowDbNull="false" AutogeneratedName="preid" ColumnName="preid" DataSourceName="" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@preid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="preid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </UpdateCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="preid" DataSetColumn="preid" />
              <Mapping SourceColumn="patientid" DataSetColumn="patientid" />
              <Mapping SourceColumn="historyid" DataSetColumn="historyid" />
              <Mapping SourceColumn="note" DataSetColumn="note" />
            </Mappings>
            <Sources>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="DeleteAllMedicince" Modifier="Public" Name="DeleteAllMedicince" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy" UserSourceName="DeleteAllMedicince">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>DELETE FROM [dbo].[tblprehistorydetail] WHERE (([patientid] = @Original_patientid))</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="Original_patientid" ColumnName="patientid" DataSourceName="cms_database.dbo.tblprehistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@Original_patientid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="DeleteHistory" Modifier="Public" Name="DeleteHistory" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy1" UserSourceName="DeleteHistory">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>DELETE FROM [dbo].[tblprehistorydetail] WHERE  ([preid] = @Original_preid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="Original_preid" ColumnName="preid" DataSourceName="cms_database.dbo.tblprehistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@Original_preid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="preid" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="FillByPPatientID" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="SelectByPPatientID" GeneratorSourceName="FillByPPatientID" GetMethodModifier="Public" GetMethodName="SelectByPPatientID" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="SelectByPPatientID" UserSourceName="FillByPPatientID">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT ph.preid, ph.patientid, ph.historyid, ph.note,h.history FROM dbo.tblprehistorydetail as ph,tblhistory as h WHERE(h.historyid=ph.historyid) and (ph.patientid=@patientid)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="patientid" ColumnName="patientid" DataSourceName="cms_database.dbo.tblprehistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@patientid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectName="" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="InsertHistory" Modifier="Public" Name="InsertHistory" QueryType="NoData" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy2" UserSourceName="InsertHistory">
                <InsertCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>INSERT INTO [dbo].[tblprehistorydetail] ([patientid], [historyid], [note]) VALUES (@patientid, @historyid, @note);</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="patientid" ColumnName="patientid" DataSourceName="cms_database.dbo.tblprehistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@patientid" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="historyid" ColumnName="historyid" DataSourceName="cms_database.dbo.tblprehistorydetail" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="note" ColumnName="note" DataSourceName="cms_database.dbo.tblprehistorydetail" DataTypeServer="varchar(500)" DbType="AnsiString" Direction="Input" ParameterName="@note" Precision="0" ProviderType="VarChar" Scale="0" Size="500" SourceColumn="note" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </InsertCommand>
              </DbSource>
              <DbSource ConnectionRef="cms_databaseConnectionString (MySettings)" DbObjectType="Unknown" GenerateShortCommands="true" GeneratorSourceName="ScalarMedicalHistory" Modifier="Public" Name="ScalarMedicalHistory" QueryType="Scalar" ScalarCallRetval="System.Int32, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataBy3" UserSourceName="ScalarMedicalHistory">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT COUNT(*) FROM tblprehistorydetail where patientid=@patientID and historyid=@historyid</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="patientID" ColumnName="patientid" DataSourceName="cms_database.dbo.tblprehistorydetail" DataTypeServer="bigint" DbType="Int64" Direction="Input" ParameterName="@patientID" Precision="0" ProviderType="BigInt" Scale="0" Size="8" SourceColumn="patientid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="historyid" ColumnName="historyid" DataSourceName="cms_database.dbo.tblprehistorydetail" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@historyid" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="historyid" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </Sources>
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="DSMedicalHistory" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:Generator_UserDSName="DSMedicalHistory" msprop:Generator_DataSetName="DSMedicalHistory" msprop:EnableTableAdapterManager="true">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="tblhistory" msprop:Generator_UserTableName="tblhistory" msprop:Generator_RowDeletedName="tblhistoryRowDeleted" msprop:Generator_RowChangedName="tblhistoryRowChanged" msprop:Generator_RowClassName="tblhistoryRow" msprop:Generator_RowChangingName="tblhistoryRowChanging" msprop:Generator_RowEvArgName="tblhistoryRowChangeEvent" msprop:Generator_RowEvHandlerName="tblhistoryRowChangeEventHandler" msprop:Generator_TableClassName="tblhistoryDataTable" msprop:Generator_TableVarName="tabletblhistory" msprop:Generator_RowDeletingName="tblhistoryRowDeleting" msprop:Generator_TablePropName="tblhistory">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Historyid" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_UserColumnName="Historyid" msprop:Generator_ColumnPropNameInRow="Historyid" msprop:Generator_ColumnVarNameInTable="columnHistoryid" msprop:Generator_ColumnPropNameInTable="HistoryidColumn" type="xs:int" />
              <xs:element name="history" msprop:Generator_UserColumnName="history" msprop:Generator_ColumnPropNameInRow="history" msprop:Generator_ColumnVarNameInTable="columnhistory" msprop:Generator_ColumnPropNameInTable="historyColumn">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="500" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="V_MEDICAL_HISTORY" msprop:Generator_UserTableName="V_MEDICAL_HISTORY" msprop:Generator_RowDeletedName="V_MEDICAL_HISTORYRowDeleted" msprop:Generator_RowChangedName="V_MEDICAL_HISTORYRowChanged" msprop:Generator_RowClassName="V_MEDICAL_HISTORYRow" msprop:Generator_RowChangingName="V_MEDICAL_HISTORYRowChanging" msprop:Generator_RowEvArgName="V_MEDICAL_HISTORYRowChangeEvent" msprop:Generator_RowEvHandlerName="V_MEDICAL_HISTORYRowChangeEventHandler" msprop:Generator_TableClassName="V_MEDICAL_HISTORYDataTable" msprop:Generator_TableVarName="tableV_MEDICAL_HISTORY" msprop:Generator_RowDeletingName="V_MEDICAL_HISTORYRowDeleting" msprop:Generator_TablePropName="V_MEDICAL_HISTORY">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="ppatientid" msprop:Generator_UserColumnName="ppatientid" msprop:Generator_ColumnPropNameInRow="ppatientid" msprop:Generator_ColumnVarNameInTable="columnppatientid" msprop:Generator_ColumnPropNameInTable="ppatientidColumn" type="xs:long" />
              <xs:element name="historydetailid" msprop:Generator_UserColumnName="historydetailid" msprop:Generator_ColumnPropNameInRow="historydetailid" msprop:Generator_ColumnVarNameInTable="columnhistorydetailid" msprop:Generator_ColumnPropNameInTable="historydetailidColumn" type="xs:long" />
              <xs:element name="historyid" msprop:Generator_UserColumnName="historyid" msprop:Generator_ColumnPropNameInRow="historyid" msprop:Generator_ColumnVarNameInTable="columnhistoryid" msprop:Generator_ColumnPropNameInTable="historyidColumn" type="xs:int" />
              <xs:element name="history" msprop:Generator_UserColumnName="history" msprop:Generator_ColumnPropNameInRow="history" msprop:Generator_ColumnVarNameInTable="columnhistory" msprop:Generator_ColumnPropNameInTable="historyColumn">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="500" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="note" msprop:Generator_UserColumnName="note" msprop:Generator_ColumnPropNameInRow="note" msprop:Generator_ColumnVarNameInTable="columnnote" msprop:Generator_ColumnPropNameInTable="noteColumn">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="500" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="tblhistorydetail" msprop:Generator_UserTableName="tblhistorydetail" msprop:Generator_RowDeletedName="tblhistorydetailRowDeleted" msprop:Generator_RowChangedName="tblhistorydetailRowChanged" msprop:Generator_RowClassName="tblhistorydetailRow" msprop:Generator_RowChangingName="tblhistorydetailRowChanging" msprop:Generator_RowEvArgName="tblhistorydetailRowChangeEvent" msprop:Generator_RowEvHandlerName="tblhistorydetailRowChangeEventHandler" msprop:Generator_TableClassName="tblhistorydetailDataTable" msprop:Generator_TableVarName="tabletblhistorydetail" msprop:Generator_RowDeletingName="tblhistorydetailRowDeleting" msprop:Generator_TablePropName="tblhistorydetail">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="historydetailid" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_UserColumnName="historydetailid" msprop:Generator_ColumnPropNameInRow="historydetailid" msprop:Generator_ColumnVarNameInTable="columnhistorydetailid" msprop:Generator_ColumnPropNameInTable="historydetailidColumn" type="xs:long" />
              <xs:element name="historyid" msprop:Generator_UserColumnName="historyid" msprop:Generator_ColumnPropNameInRow="historyid" msprop:Generator_ColumnVarNameInTable="columnhistoryid" msprop:Generator_ColumnPropNameInTable="historyidColumn" type="xs:int" />
              <xs:element name="prescriptionid" msprop:Generator_UserColumnName="prescriptionid" msprop:Generator_ColumnPropNameInRow="prescriptionid" msprop:Generator_ColumnVarNameInTable="columnprescriptionid" msprop:Generator_ColumnPropNameInTable="prescriptionidColumn" type="xs:long" />
              <xs:element name="note" msprop:Generator_UserColumnName="note" msprop:Generator_ColumnPropNameInRow="note" msprop:Generator_ColumnVarNameInTable="columnnote" msprop:Generator_ColumnPropNameInTable="noteColumn">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="500" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="tblprehistorydetail" msprop:Generator_UserTableName="tblprehistorydetail" msprop:Generator_RowDeletedName="tblprehistorydetailRowDeleted" msprop:Generator_RowChangedName="tblprehistorydetailRowChanged" msprop:Generator_RowClassName="tblprehistorydetailRow" msprop:Generator_RowChangingName="tblprehistorydetailRowChanging" msprop:Generator_RowEvArgName="tblprehistorydetailRowChangeEvent" msprop:Generator_RowEvHandlerName="tblprehistorydetailRowChangeEventHandler" msprop:Generator_TableClassName="tblprehistorydetailDataTable" msprop:Generator_TableVarName="tabletblprehistorydetail" msprop:Generator_RowDeletingName="tblprehistorydetailRowDeleting" msprop:Generator_TablePropName="tblprehistorydetail">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="preid" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_UserColumnName="preid" msprop:Generator_ColumnPropNameInRow="preid" msprop:Generator_ColumnVarNameInTable="columnpreid" msprop:Generator_ColumnPropNameInTable="preidColumn" type="xs:long" />
              <xs:element name="patientid" msprop:Generator_UserColumnName="patientid" msprop:Generator_ColumnPropNameInRow="patientid" msprop:Generator_ColumnVarNameInTable="columnpatientid" msprop:Generator_ColumnPropNameInTable="patientidColumn" type="xs:long" minOccurs="0" />
              <xs:element name="historyid" msprop:Generator_UserColumnName="historyid" msprop:Generator_ColumnPropNameInRow="historyid" msprop:Generator_ColumnVarNameInTable="columnhistoryid" msprop:Generator_ColumnPropNameInTable="historyidColumn" type="xs:int" minOccurs="0" />
              <xs:element name="note" msprop:Generator_UserColumnName="note" msprop:Generator_ColumnPropNameInRow="note" msprop:Generator_ColumnVarNameInTable="columnnote" msprop:Generator_ColumnPropNameInTable="noteColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="500" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="Constraint1" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:tblhistory" />
      <xs:field xpath="mstns:Historyid" />
    </xs:unique>
    <xs:unique name="tblhistorydetail_Constraint1" msdata:ConstraintName="Constraint1" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:tblhistorydetail" />
      <xs:field xpath="mstns:historydetailid" />
    </xs:unique>
    <xs:unique name="tblprehistorydetail_Constraint1" msdata:ConstraintName="Constraint1" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:tblprehistorydetail" />
      <xs:field xpath="mstns:preid" />
    </xs:unique>
  </xs:element>
</xs:schema>